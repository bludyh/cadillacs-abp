version: '3.7'

services:

  apigateway:
    image: ${DOCKER_REGISTRY-}apigateway
    build:
      context: .
      target: development
      dockerfile: ApiGateway/Dockerfile


  identityapi:
    image: ${DOCKER_REGISTRY-}identityapi
    build:
      context: .
      target: development
      dockerfile: Services/Identity/Identity.Api/Dockerfile


  identityeventhandler:
    image: ${DOCKER_REGISTRY-}identityeventhandler
    build:
      context: .
      target: development
      dockerfile: Services/Identity/Identity.EventHandler/Dockerfile


  courseapi:
    image: ${DOCKER_REGISTRY-}courseapi
    build:
      context: .
      target: development
      dockerfile: Services/Course/Course.Api/Dockerfile


  courseeventhandler:
    image: ${DOCKER_REGISTRY-}courseeventhandler
    build:
      context: .
      target: development
      dockerfile: Services/Course/Course.EventHandler/Dockerfile


  studyprogressapi:
    image: ${DOCKER_REGISTRY-}studyprogressapi
    build:
      context: .
      target: development
      dockerfile: Services/StudyProgress/StudyProgress.Api/Dockerfile


  studyprogresseventhandler:
    image: ${DOCKER_REGISTRY-}studyprogresseventhandler
    build:
      context: .
      target: development
      dockerfile: Services/StudyProgress/StudyProgress.EventHandler/Dockerfile


  scheduleapi:
    image: ${DOCKER_REGISTRY-}scheduleapi
    build:
      context: .
      target: development
      dockerfile: Services/Schedule/Schedule.Api/Dockerfile


  scheduleeventhandler:
    image: ${DOCKER_REGISTRY-}scheduleeventhandler
    build:
      context: .
      target: development
      dockerfile: Services/Schedule/Schedule.EventHandler/Dockerfile


  announcementapi:
    image: ${DOCKER_REGISTRY-}announcementapi
    build:
      context: .
      target: development
      dockerfile: Services/Announcement/Announcement.Api/Dockerfile


  announcementeventhandler:
    image: ${DOCKER_REGISTRY-}announcementeventhandler
    build:
      context: .
      target: development
      dockerfile: Services/Announcement/Announcement.EventHandler/Dockerfile